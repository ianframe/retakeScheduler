<template name="main">
  <h1><a href="{{pathFor route='home'}}" id="homePageLink">RetakeScheduler</a></h1>
  <hr />
    {{> yield}}
  <hr />
  <p class="footer">RetakeScheduler&copy;, Ian Frame, 2016.</p>
</template>

<template name="home">
  {{> navigation}}
</template>

<template name="adminHome">
  {{#each listOfAllRetakes}}
    <p class="scheduledRetake {{selectedRetake}}">Unit {{unit}} : {{standard}} | {{date}} | {{time}} | {{firstName}} {{lastName}}</p>
  {{/each}}
  {{#if hasScheduledRetakes}}
      <br>
      <input type="submit" id="adminRemoveRetake" class="removeRetake btn btn-danger" value="Remove">
    {{else}}
      <p>There are no retakes scheduled at the moment.</p>
    {{/if}}
  <br>
  <hr />
</template>

<template name="navigation">
  {{#unless currentUser}}
    <p><a href="{{pathFor route='register'}}">Register</a></p>
    <p><a href="{{pathFor route='login'}}">Login</a></p>
  {{else}}
    <p><h4>Welcome, {{getFirstName}}!</h4></p>
    <p><a href="{{pathFor route='scheduleARetake'}}">Schedule a Retake</a></p>
    <p><a href="#" class="logout">Logout</a></p>
    <hr />
    {{> listOfRetakes}}
  {{/unless}}
</template>

<template name="register">
  <h2>Register An Account</h2>
  <form name="register">
    <p>First Name: <input type="text" name="firstName" autocomplete="off"></p>
    <p>Last Name: <input type="text" name="lastName" autocomplete="off"></p>
    <p>Email: <input type="email" name="email" autocomplete="off"></p>
    <p>Password: <input type="password" name="password" autocomplete="off"></p>
    <p><input type="submit" class="btn btn-primary" value="Register"></p>
  </form>
</template>

<template name="login">
  <h2>Login</h2>
  <form name="login">
    <p>Email: <input type="email" name="email"></p>
    <p>Password: <input type="password" name="password"></p>
    <p><input type="submit" class="btn btn-info" value="Login"></p>
  </form>
</template>

<template name="scheduleARetake">
  {{#if currentUser}}
    <form method="post" id="orderForm">
      <div class="form-group">
        <label for="unit">Unit:</label>
        <select class="form-control" name="unit">
          <option value="3">3</option>
          <option value="2">2</option>
          <option value="1">1</option>
          <option value="0">0</option>
        </select> 
        <br>
        <label for="standard">Standard:</label>
        <select class="form-control" name="standard">
          <option value="A">A</option>
          <option value="B">B</option>
          <option value="C">C</option>
          <option value="D">D</option>
          <option value="E">E</option>
        </select>
      </div>
 
      <label for="date">Date:</label>
      <div class="row">
        <div class='col-sm-6'>
          <div class="form-group">
              <div class='input-group date' id='datetimepicker5'>
                <span class="input-group-addon">
                    <span class="glyphicon glyphicon-calendar"></span>
                </span>
                <input type='text' name="dateText" class="form-control" />
              </div>
          </div>
        </div>
          <script type="text/javascript">
              $(function () {
                  $('#datetimepicker5').datetimepicker({
                      defaultDate: moment(),
                      disabledDates: [],
                      daysOfWeekDisabled : [0, 6],

                  });
              });
          </script>
      </div>

      <input type="submit" class="btn btn-primary" value="Schedule">
    </form>
  {{/if}}
</template>

<template name="listOfRetakes">
  <h4>Your Scheduled Retakes</h4>
  {{#each scheduledRetakes}}
    <p class="scheduledRetake {{selectedRetake}}">Unit {{unit}} : {{standard}} | {{date}}</p>
  {{/each}}
    {{#if hasScheduledRetakes}}
      <br>
      <input type="submit" class="cancelRetake btn btn-danger" value="Cancel Request">
    {{else}}
      <p>You don't have any retakes scheduled at the moment.</p>
    {{/if}}
</template>